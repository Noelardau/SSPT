import{a as v}from"./Axios-26df80cc.js";import{A as _,r as i,o as T,T as y,a as m,c as d,b as F,w as V,F as g,e as r,s as I,u as x,m as N,t as c}from"./index-6a119dec.js";import{V as P}from"./VTable-38fa72c1.js";import"./_commonjsHelpers-39b5b250.js";const b=r("h1",{class:"text-h4"},"Classement: ",-1),k=r("thead",null,[r("tr",null,[r("th",{class:"text-left"}," Rang "),N(),r("th",{class:"text-left"}," Pseudo "),r("th",{class:"text-left"}," Note total ")])],-1),D={__name:"Classement",setup(B){let f=_().params.idTournoi;_().path;var n=i([]),p=i([]);let o=()=>{v.get("/api.tournoi/get/"+f).then(e=>{n.value=e.data}).catch(e=>clearInterval(l.value))},s=()=>{v.get("/api.tournoi/participants/"+f).then(e=>{p.value=e.data}).catch(e=>clearInterval(l.value))};s(),o(),T(()=>{s(),o()});var l=i(setInterval(()=>{try{s(),o()}catch{clearInterval(l)}},1e3));function C(e){for(var a=0;a<e.length;a++)for(var t=a+1;t<e.length;t++){var u=e[a];parseFloat(u.noteCummule)>parseFloat(e[t].noteCummule)&&(e[a]=e[t],e[t]=u,u=e[t])}return e}var h=y(()=>{var e=[];return p.value.forEach(a=>{a.noteCummule=0,n.value.performances!=null&&n.value.performances.filter(t=>t.idPoete==a._id).forEach(t=>{a.noteCummule+=t.noteFinal}),e=[...e,a]}),C(e).reverse()});return(e,a)=>(m(),d(g,null,[b,F(P,{density:"compact"},{default:V(()=>[k,r("tbody",null,[(m(!0),d(g,null,I(x(h),t=>(m(),d("tr",{key:t._id},[r("td",null,c(x(h).indexOf(t)+1),1),r("td",null,c(t.pseudoPoete),1),r("td",null,c(t.noteCummule),1)]))),128))])]),_:1})],64))}};export{D as default};
