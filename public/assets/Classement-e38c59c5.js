import{a as c}from"./Axios-26df80cc.js";import{A as h,r as _,o as g,T as F,a as s,c as u,b as T,w as V,F as v,e as r,s as y,u as C,m as N,t as l}from"./index-509092f4.js";import{V as P}from"./VTable-c21e7382.js";import"./_commonjsHelpers-39b5b250.js";const b=r("h1",{class:"text-h4"},"Classement: ",-1),k=r("thead",null,[r("tr",null,[r("th",{class:"text-left"}," Rang "),N(),r("th",{class:"text-left"}," Pseudo "),r("th",{class:"text-left"}," Note total ")])],-1),D={__name:"Classement",setup(B){let m=h().params.idTournoi;h().path;var n=_([]),i=_([]);let d=()=>{c.get("/api.tournoi/get/"+m).then(e=>{n.value=e.data})},f=()=>{c.get("/api.tournoi/participants/"+m).then(e=>{i.value=e.data})};f(),d(),g(()=>{f(),d()});function x(e){for(var t=0;t<e.length;t++)for(var a=t+1;a<e.length;a++){var o=e[t];parseFloat(o.noteCummule)>parseFloat(e[a].noteCummule)&&(e[t]=e[a],e[a]=o,o=e[a])}return e}var p=F(()=>{var e=[];return i.value.forEach(t=>{t.noteCummule=0,n.value.performances!=null&&(n.value.performances.filter(a=>a.idPoete==t._id).forEach(a=>{t.noteCummule+=a.noteFinal,t.noteCummule=parseFloat(t.noteCummule)}),t.noteCummule=t.noteCummule.toFixed(1)),e=[...e,t]}),x(e).reverse()});return(e,t)=>(s(),u(v,null,[b,T(P,{density:"compact"},{default:V(()=>[k,r("tbody",null,[(s(!0),u(v,null,y(C(p),a=>(s(),u("tr",{key:a._id},[r("td",null,l(C(p).indexOf(a)+1),1),r("td",null,l(a.pseudoPoete),1),r("td",null,l(a.noteCummule),1)]))),128))])]),_:1})],64))}};export{D as default};
