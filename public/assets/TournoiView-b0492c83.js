import{o as Q,r as f,k as W,y as X,a as g,c as A,b as e,u as o,h as d,w as t,i as T,m as x,g as M,F as Y,n as Z,V as k,p as y,j as i,q as J,f as L,s as c,t as U,v as w,e as $}from"./index-af6e56f7.js";import{a as b}from"./index-dad84dab.js";import{a as h,V as ee}from"./VRow-b1dab5a0.js";import{V as le}from"./VSnackbar-1bda3ed8.js";import{V as B,a as v}from"./VTextField-87230c4f.js";import{V as E}from"./VSelect-7538b4b1.js";import"./_commonjsHelpers-39b5b250.js";const te={id:"home"},oe=M("div",{class:"text-h4"},"Les tournois ",-1),ae=M("br",null,null,-1),Ve={__name:"TournoiView",setup(ue){b.defaults.baseURL="http://localhost:5000/api.tournoi/",Q(()=>{C()});let C=()=>b.get("/all").then(u=>N.value=u.data.reverse()),N=f([]),_=0,n=f({}),r=W({nomTournoi:"",lieuTournoi:"",dateTournoi:"",nbJury:""}),S=f("test"),D=u=>{S.value=u,s.value=!s.value};f(!0);let m=f(!1),V=f(!1),F=()=>m.value=!0,R=()=>{console.log(r),b.post("/create",r).then(u=>{C(),m.value=!1,D("Tournoi crée!!")})},q=()=>{m.value=!m.value},j=u=>{_=u,console.log(_),V.value=!0},O=()=>{b.get("/delete/"+_).then(u=>{console.log(u),C(),V.value=!1,D("suppression effectuée!!")})},P=()=>V.value=!1,p=f(!1),z=u=>{console.log(u.nbJury),n.value.nomTournoi=u.nomTournoi??"",n.value.lieuTournoi=u.lieuTournoi??"",n.value.dateTournoi=u.dateTournoi??"",n.value.nbJury=u.nbJury??"",n.value._id=u._id??"",p.value=!0},G=()=>p.value=!1,H=()=>{console.log(n.value),b.post("/update/",n.value).then(u=>{p.value=!1,C()})},s=f(!1);return(u,a)=>{const I=X("RouterLink");return g(),A("div",te,[oe,e(d,{icon:"mdi-plus",color:"blue",onClick:o(F)},null,8,["onClick"]),e(h,null,{default:t(()=>[(g(!0),A(Y,null,Z(o(N),l=>(g(),$(ee,null,{default:t(()=>[e(k,{title:l.nomTournoi},{text:t(()=>[i(" Date : "+w(l.dateTournoi)+" ",1),ae,i(" Lieu : "+w(l.lieuTournoi),1)]),default:t(()=>[e(c,null,{default:t(()=>[e(d,{icon:"mdi-pencil",color:"blue",onClick:K=>o(z)(l)},null,8,["onClick"]),e(d,{icon:"mdi-delete",color:"red",onClick:K=>o(j)(l._id)},null,8,["onClick"]),e(d,null,{default:t(()=>[e(I,{to:"/tournoi/"+l._id+"/listParticipants/"+l._id},{default:t(()=>[i("Voir")]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["title"])]),_:2},1024))),256))]),_:1}),e(x,{modelValue:o(m),"onUpdate:modelValue":a[5]||(a[5]=l=>T(m)?m.value=l:m=l),persistent:!0,"max-width":"500"},{default:t(()=>[e(k,null,{default:t(()=>[e(y,{class:"text-h5"},{default:t(()=>[i(" Nouveau tournoi ")]),_:1}),e(J,null,{default:t(()=>[e(B,{onSubmit:a[4]||(a[4]=L(()=>{},["prevent"]))},{default:t(()=>[e(v,{label:"Nom",modelValue:o(r).nomTournoi,"onUpdate:modelValue":a[0]||(a[0]=l=>o(r).nomTournoi=l),autofocus:!0},null,8,["modelValue"]),e(v,{label:"Lieu",modelValue:o(r).lieuTournoi,"onUpdate:modelValue":a[1]||(a[1]=l=>o(r).lieuTournoi=l)},null,8,["modelValue"]),e(v,{type:"date",label:"Date",modelValue:o(r).dateTournoi,"onUpdate:modelValue":a[2]||(a[2]=l=>o(r).dateTournoi=l)},null,8,["modelValue"]),e(E,{label:"Nombre de jury",modelValue:o(r).nbJury,"onUpdate:modelValue":a[3]||(a[3]=l=>o(r).nbJury=l),items:[{title:"Trois",value:3},{title:"Cinq",value:5},{title:"Sept",value:7},{title:"Neuf",value:9}],"item-title":"title","item-value":"value"},null,8,["modelValue"])]),_:1})]),_:1}),e(c,null,{default:t(()=>[e(U),e(d,{type:"submit",class:"mt-2",onClick:o(R)},{default:t(()=>[i("Enregistrer")]),_:1},8,["onClick"]),e(d,{type:"submit",class:"mt-2",onClick:o(q)},{default:t(()=>[i("Annuler")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(x,{modelValue:o(p),"onUpdate:modelValue":a[11]||(a[11]=l=>T(p)?p.value=l:p=l),persistent:!0,"max-width":"500"},{default:t(()=>[e(k,null,{default:t(()=>[e(y,{class:"text-h5"},{default:t(()=>[i(" Modifier tournoi ")]),_:1}),e(J,null,{default:t(()=>[e(B,{onSubmit:a[10]||(a[10]=L(()=>{},["prevent"]))},{default:t(()=>[e(v,{label:"Nom",modelValue:o(n).nomTournoi,"onUpdate:modelValue":a[6]||(a[6]=l=>o(n).nomTournoi=l),autofocus:!0},null,8,["modelValue"]),e(v,{label:"Lieu",modelValue:o(n).lieuTournoi,"onUpdate:modelValue":a[7]||(a[7]=l=>o(n).lieuTournoi=l)},null,8,["modelValue"]),e(v,{type:"date",label:"Date",modelValue:o(n).dateTournoi,"onUpdate:modelValue":a[8]||(a[8]=l=>o(n).dateTournoi=l)},null,8,["modelValue"]),e(E,{modelValue:o(n).nbJury,"onUpdate:modelValue":a[9]||(a[9]=l=>o(n).nbJury=l),items:[{title:"Trois",value:3},{title:"Cinq",value:5},{title:"Sept",value:7},{title:"Neuf",value:9}],"item-title":"title","item-value":"value"},null,8,["modelValue"])]),_:1})]),_:1}),e(c,null,{default:t(()=>[e(U),e(d,{type:"submit",class:"mt-2",onClick:o(H)},{default:t(()=>[i("Enregistrer")]),_:1},8,["onClick"]),e(d,{type:"submit",class:"mt-2",onClick:o(G)},{default:t(()=>[i("Annuler")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(x,{modelValue:o(V),"onUpdate:modelValue":a[12]||(a[12]=l=>T(V)?V.value=l:V=l),persistent:!0,"max-width":"500"},{default:t(()=>[e(k,null,{default:t(()=>[e(y,{class:"text-h5"},{default:t(()=>[i(" Supprimer ce tournoi de la liste ? ")]),_:1}),e(c,null,{default:t(()=>[e(U),e(d,{color:"primary",variant:"text",class:"mt-2",onClick:o(P)},{default:t(()=>[i("Non")]),_:1},8,["onClick"]),e(d,{color:"red",variant:"text",class:"mt-2",onClick:o(O)},{default:t(()=>[i("Oui, supprimer")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(le,{modelValue:o(s),"onUpdate:modelValue":a[14]||(a[14]=l=>T(s)?s.value=l:s=l),timeout:1e3},{actions:t(()=>[e(d,{color:"blue",variant:"text",onClick:a[13]||(a[13]=l=>T(s)?s.value=!1:s=!1)},{default:t(()=>[i(" Close ")]),_:1})]),default:t(()=>[i(w(o(S))+" ",1)]),_:1},8,["modelValue"])])}}};export{Ve as default};
