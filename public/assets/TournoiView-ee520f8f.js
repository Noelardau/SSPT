import{v as w,x as E,y as G,z as h,A as I,B as K,C as z,D as q,d as ye,r as v,e as be,E as ve,o as L,c as B,f as l,u as n,V,w as a,i as T,a as W,F as pe,h as Ce,j as _,k as x,l as m,m as D,n as M,p as N,t as j,q as ke}from"./index-19e08e3d.js";import{a as S}from"./index-dad84dab.js";import{V as U,a as Te,b as A}from"./VSnackbar-cc16e212.js";import{V as J,a as k}from"./VTextField-67698203.js";import{V as R}from"./VSelect-4c24b403.js";import"./_commonjsHelpers-39b5b250.js";const Y=(()=>w.reduce((e,r)=>(e[r]={type:[Boolean,String,Number],default:!1},e),{}))(),H=(()=>w.reduce((e,r)=>{const s="offset"+E(r);return e[s]={type:[String,Number],default:null},e},{}))(),Q=(()=>w.reduce((e,r)=>{const s="order"+E(r);return e[s]={type:[String,Number],default:null},e},{}))(),F={col:Object.keys(Y),offset:Object.keys(H),order:Object.keys(Q)};function Se(e,r,s){let i=e;if(!(s==null||s===!1)){if(r){const o=r.replace(e,"");i+=`-${o}`}return e==="col"&&(i="v-"+i),e==="col"&&(s===""||s===!0)||(i+=`-${s}`),i.toLowerCase()}}const _e=["auto","start","end","center","baseline","stretch"],Ne=G({cols:{type:[Boolean,String,Number],default:!1},...Y,offset:{type:[String,Number],default:null},...H,order:{type:[String,Number],default:null},...Q,alignSelf:{type:String,default:null,validator:e=>_e.includes(e)},...h(),...I()},"VCol"),we=K()({name:"VCol",props:Ne(),setup(e,r){let{slots:s}=r;const i=z(()=>{const o=[];let d;for(d in F)F[d].forEach(y=>{const c=e[y],g=Se(d,y,c);g&&o.push(g)});const p=o.some(y=>y.startsWith("v-col-"));return o.push({"v-col":!p||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),o});return()=>{var o;return q(e.tag,{class:[i.value,e.class],style:e.style},(o=s.default)==null?void 0:o.call(s))}}}),P=["start","end","center"],X=["space-between","space-around","space-evenly"];function $(e,r){return w.reduce((s,i)=>{const o=e+E(i);return s[o]=r(),s},{})}const Le=[...P,"baseline","stretch"],Z=e=>Le.includes(e),ee=$("align",()=>({type:String,default:null,validator:Z})),xe=[...P,...X],le=e=>xe.includes(e),te=$("justify",()=>({type:String,default:null,validator:le})),je=[...P,...X,"stretch"],oe=e=>je.includes(e),ae=$("alignContent",()=>({type:String,default:null,validator:oe})),O={align:Object.keys(ee),justify:Object.keys(te),alignContent:Object.keys(ae)},Ue={align:"align",justify:"justify",alignContent:"align-content"};function Ae(e,r,s){let i=Ue[e];if(s!=null){if(r){const o=r.replace(e,"");i+=`-${o}`}return i+=`-${s}`,i.toLowerCase()}}const Ee=G({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:Z},...ee,justify:{type:String,default:null,validator:le},...te,alignContent:{type:String,default:null,validator:oe},...ae,...h(),...I()},"VRow"),Pe=K()({name:"VRow",props:Ee(),setup(e,r){let{slots:s}=r;const i=z(()=>{const o=[];let d;for(d in O)O[d].forEach(p=>{const y=e[p],c=Ae(d,p,y);c&&o.push(c)});return o.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),o});return()=>{var o;return q(e.tag,{class:["v-row",i.value,e.class],style:e.style},(o=s.default)==null?void 0:o.call(s))}}}),$e={id:"home"},Be=W("div",{class:"text-h4"},"Les tournois ",-1),De=W("br",null,null,-1),he={__name:"TournoiView",setup(e){S.defaults.baseURL="http://localhost:5000/api.tournoi/",ye(()=>{r()});let r=()=>S.get("/all").then(f=>s.value=f.data.reverse()),s=v([]),i=0,o=v({}),d=be({nomTournoi:"",lieuTournoi:"",dateTournoi:"",nbJury:5}),p=v("test"),y=f=>{p.value=f,b.value=!b.value};v(!0);let c=v(!1),g=v(!1),ne=()=>c.value=!0,ue=()=>{S.post("/create",d).then(f=>{r(),c.value=!1,y("Tournoi crée!!")})},se=()=>{c.value=!c.value},re=f=>{i=f,console.log(i),g.value=!0},ie=()=>{S.get("/delete/"+i).then(f=>{console.log(f),r(),g.value=!1,y("suppression effectuée!!")})},de=()=>g.value=!1,C=v(!1),fe=f=>{console.log(f.nbJury),o.value.nomTournoi=f.nomTournoi??"",o.value.lieuTournoi=f.lieuTournoi??"",o.value.dateTournoi=f.dateTournoi??"",o.value.nbJury=f.nbJury??"",o.value._id=f._id??"",C.value=!0},me=()=>C.value=!1,ce=()=>{S.post("/update/",o.value).then(f=>{C.value=!1,r()})},b=v(!1);return(f,u)=>{const Ve=ve("RouterLink");return L(),B("div",$e,[Be,l(V,{icon:"mdi-plus",color:"blue",onClick:n(ne)},null,8,["onClick"]),l(Pe,null,{default:a(()=>[(L(!0),B(pe,null,Ce(n(s),t=>(L(),ke(we,null,{default:a(()=>[l(_,{title:t.nomTournoi},{text:a(()=>[m(" Date : "+j(t.dateTournoi)+" ",1),De,m(" Lieu : "+j(t.lieuTournoi),1)]),default:a(()=>[l(N,null,{default:a(()=>[l(V,{icon:"mdi-pencil",color:"blue",onClick:ge=>n(fe)(t)},null,8,["onClick"]),l(V,{icon:"mdi-delete",color:"red",onClick:ge=>n(re)(t._id)},null,8,["onClick"]),l(V,null,{default:a(()=>[l(Ve,{to:"/tournoi/"+t._id+"/listParticipants/"+t._id},{default:a(()=>[m("Voir")]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["title"])]),_:2},1024))),256))]),_:1}),l(U,{modelValue:n(c),"onUpdate:modelValue":u[5]||(u[5]=t=>T(c)?c.value=t:c=t),persistent:!0,"max-width":"500"},{default:a(()=>[l(_,null,{default:a(()=>[l(x,{class:"text-h5"},{default:a(()=>[m(" Nouveau tournoi ")]),_:1}),l(D,null,{default:a(()=>[l(J,{onSubmit:u[4]||(u[4]=M(()=>{},["prevent"]))},{default:a(()=>[l(k,{label:"Nom",modelValue:n(d).nomTournoi,"onUpdate:modelValue":u[0]||(u[0]=t=>n(d).nomTournoi=t),autofocus:!0},null,8,["modelValue"]),l(k,{label:"Lieu",modelValue:n(d).lieuTournoi,"onUpdate:modelValue":u[1]||(u[1]=t=>n(d).lieuTournoi=t)},null,8,["modelValue"]),l(k,{type:"date",label:"Date",modelValue:n(d).dateTournoi,"onUpdate:modelValue":u[2]||(u[2]=t=>n(d).dateTournoi=t)},null,8,["modelValue"]),l(R,{modelValue:n(d).nombreJury,"onUpdate:modelValue":u[3]||(u[3]=t=>n(d).nombreJury=t),label:"Nombre de jury",items:[3,5,7,9]},null,8,["modelValue"])]),_:1})]),_:1}),l(N,null,{default:a(()=>[l(A),l(V,{type:"submit",class:"mt-2",onClick:n(ue)},{default:a(()=>[m("Enregistrer")]),_:1},8,["onClick"]),l(V,{type:"submit",class:"mt-2",onClick:n(se)},{default:a(()=>[m("Annuler")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(U,{modelValue:n(C),"onUpdate:modelValue":u[11]||(u[11]=t=>T(C)?C.value=t:C=t),persistent:!0,"max-width":"500"},{default:a(()=>[l(_,null,{default:a(()=>[l(x,{class:"text-h5"},{default:a(()=>[m(" Modifier tournoi ")]),_:1}),l(D,null,{default:a(()=>[l(J,{onSubmit:u[10]||(u[10]=M(()=>{},["prevent"]))},{default:a(()=>[l(k,{label:"Nom",modelValue:n(o).nomTournoi,"onUpdate:modelValue":u[6]||(u[6]=t=>n(o).nomTournoi=t),autofocus:!0},null,8,["modelValue"]),l(k,{label:"Lieu",modelValue:n(o).lieuTournoi,"onUpdate:modelValue":u[7]||(u[7]=t=>n(o).lieuTournoi=t)},null,8,["modelValue"]),l(k,{type:"date",label:"Date",modelValue:n(o).dateTournoi,"onUpdate:modelValue":u[8]||(u[8]=t=>n(o).dateTournoi=t)},null,8,["modelValue"]),l(R,{modelValue:n(o).nombreJury,"onUpdate:modelValue":u[9]||(u[9]=t=>n(o).nombreJury=t),label:"Nombre de jury",items:[3,5,7,9]},null,8,["modelValue"])]),_:1})]),_:1}),l(N,null,{default:a(()=>[l(A),l(V,{type:"submit",class:"mt-2",onClick:n(ce)},{default:a(()=>[m("Enregistrer")]),_:1},8,["onClick"]),l(V,{type:"submit",class:"mt-2",onClick:n(me)},{default:a(()=>[m("Annuler")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(U,{modelValue:n(g),"onUpdate:modelValue":u[12]||(u[12]=t=>T(g)?g.value=t:g=t),persistent:!0,"max-width":"500"},{default:a(()=>[l(_,null,{default:a(()=>[l(x,{class:"text-h5"},{default:a(()=>[m(" Supprimer ce tournoi de la liste ? ")]),_:1}),l(N,null,{default:a(()=>[l(A),l(V,{color:"primary",variant:"text",class:"mt-2",onClick:n(de)},{default:a(()=>[m("Non")]),_:1},8,["onClick"]),l(V,{color:"red",variant:"text",class:"mt-2",onClick:n(ie)},{default:a(()=>[m("Oui, supprimer")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(Te,{modelValue:n(b),"onUpdate:modelValue":u[14]||(u[14]=t=>T(b)?b.value=t:b=t),timeout:1e3},{actions:a(()=>[l(V,{color:"blue",variant:"text",onClick:u[13]||(u[13]=t=>T(b)?b.value=!1:b=!1)},{default:a(()=>[m(" Close ")]),_:1})]),default:a(()=>[m(j(n(p))+" ",1)]),_:1},8,["modelValue"])])}}};export{he as default};
