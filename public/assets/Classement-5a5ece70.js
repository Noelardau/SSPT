import{a as u}from"./index-dad84dab.js";import{z as v,r as i,o as g,S as C,a as c,c as d,b as T,w as y,F as _,g as t,n as V,u as x,j as b,v as m}from"./index-af6e56f7.js";import{V as I}from"./VTable-2e0da6fe.js";import"./_commonjsHelpers-39b5b250.js";const N=t("h1",{class:"text-h4"},"Classement: ",-1),P=t("thead",null,[t("tr",null,[t("th",{class:"text-left"}," Rang "),b(),t("th",{class:"text-left"}," Pseudo "),t("th",{class:"text-left"}," Note total ")])],-1),w={__name:"Classement",setup(k){u.defaults.baseURL="http://localhost:5000";let p=v().params.idTournoi;v().path;var l=i([]),h=i([]);let s=()=>{u.get("/api.tournoi/get/"+p).then(e=>{l.value=e.data}).catch(e=>clearInterval(o.value))},n=()=>{u.get("/api.tournoi/participants/"+p).then(e=>{h.value=e.data}).catch(e=>clearInterval(o.value))};n(),s(),g(()=>{n(),s()});var o=i(setInterval(()=>{try{n(),s()}catch{clearInterval(o)}},1e3)),f=C(()=>{var e=[];return h.value.forEach(r=>{r.noteCummule=0,l.value.performances!=null&&l.value.performances.filter(a=>a.idPoete==r._id).forEach(a=>{r.noteCummule+=a.noteFinal}),e=[...e,r]}),e});return(e,r)=>(c(),d(_,null,[N,T(I,{density:"compact"},{default:y(()=>[P,t("tbody",null,[(c(!0),d(_,null,V(x(f),a=>(c(),d("tr",{key:a._id},[t("td",null,m(x(f).indexOf(a)+1),1),t("td",null,m(a.pseudoPoete),1),t("td",null,m(a.noteCummule),1)]))),128))])]),_:1})],64))}};export{w as default};
