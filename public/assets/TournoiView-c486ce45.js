import{o as Q,r as p,p as W,a as X,b as y,c as A,d as e,u as t,m as r,w as a,i as T,V as _,f as M,F as Y,s as Z,e as k,h as g,n,j as J,k as L,l as c,v as U,t as w,x as $}from"./index-c0706ffd.js";import{a as b}from"./index-dad84dab.js";import{V as h,a as ee}from"./VRow-2ada35af.js";import{V as le}from"./VSnackbar-cb081af8.js";import{V as B,a as V}from"./VTextField-7ec8710a.js";import{V as E}from"./VSelect-0bbd71f2.js";import"./_commonjsHelpers-39b5b250.js";const te={id:"home"},oe=M("div",{class:"text-h4"},"Les tournois ",-1),ae=M("br",null,null,-1),Ve={__name:"TournoiView",setup(ue){b.defaults.baseURL="http://localhost:5000/api.tournoi/",Q(()=>{C()});let C=()=>b.get("/all").then(u=>N.value=u.data.reverse()),N=p([]),x=0,i=p({}),d=W({nomTournoi:"",description:"",lieuTournoi:"",dateTournoi:"",nbJury:""}),S=p("test"),D=u=>{S.value=u,s.value=!s.value};p(!0);let m=p(!1),f=p(!1),F=()=>m.value=!0,R=()=>{console.log(d),b.post("/create",d).then(u=>{C(),m.value=!1,D("Tournoi crée!!")})},j=()=>{m.value=!m.value},q=u=>{x=u,console.log(x),f.value=!0},O=()=>{b.get("/delete/"+x).then(u=>{console.log(u),C(),f.value=!1,D("suppression effectuée!!")})},P=()=>f.value=!1,v=p(!1),z=u=>{console.log(u.nbJury),i.value.nomTournoi=u.nomTournoi??"",i.value.lieuTournoi=u.lieuTournoi??"",i.value.dateTournoi=u.dateTournoi??"",i.value.description=u.description??"",i.value.nbJury=u.nbJury??"",i.value._id=u._id??"",v.value=!0},G=()=>v.value=!1,H=()=>{b.post("/update/",i.value).then(u=>{v.value=!1,C()})},s=p(!1);return(u,o)=>{const I=X("RouterLink");return y(),A("div",te,[oe,e(r,{icon:"mdi-plus",color:"blue",onClick:t(F)},null,8,["onClick"]),e(h,null,{default:a(()=>[(y(!0),A(Y,null,Z(t(N),l=>(y(),$(ee,null,{default:a(()=>[e(k,{title:l.nomTournoi},{text:a(()=>[n(" Date : "+w(l.dateTournoi)+" ",1),ae,n(" Lieu : "+w(l.lieuTournoi),1)]),default:a(()=>[e(c,null,{default:a(()=>[e(r,{icon:"mdi-pencil",color:"blue",onClick:K=>t(z)(l)},null,8,["onClick"]),e(r,{icon:"mdi-delete",color:"red",onClick:K=>t(q)(l._id)},null,8,["onClick"]),e(r,null,{default:a(()=>[e(I,{to:"/tournoi/"+l._id+"/listParticipants/"+l._id},{default:a(()=>[n("Voir")]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["title"])]),_:2},1024))),256))]),_:1}),e(_,{modelValue:t(m),"onUpdate:modelValue":o[6]||(o[6]=l=>T(m)?m.value=l:m=l),persistent:!0,"max-width":"500"},{default:a(()=>[e(k,null,{default:a(()=>[e(g,{class:"text-h5"},{default:a(()=>[n(" Nouveau tournoi ")]),_:1}),e(J,null,{default:a(()=>[e(B,{onSubmit:o[5]||(o[5]=L(()=>{},["prevent"]))},{default:a(()=>[e(V,{label:"Nom",modelValue:t(d).nomTournoi,"onUpdate:modelValue":o[0]||(o[0]=l=>t(d).nomTournoi=l),autofocus:!0},null,8,["modelValue"]),e(V,{label:"description",modelValue:t(d).description,"onUpdate:modelValue":o[1]||(o[1]=l=>t(d).description=l)},null,8,["modelValue"]),e(V,{label:"Lieu",modelValue:t(d).lieuTournoi,"onUpdate:modelValue":o[2]||(o[2]=l=>t(d).lieuTournoi=l)},null,8,["modelValue"]),e(V,{type:"date",label:"Date",modelValue:t(d).dateTournoi,"onUpdate:modelValue":o[3]||(o[3]=l=>t(d).dateTournoi=l)},null,8,["modelValue"]),e(E,{label:"Nombre de jury",modelValue:t(d).nbJury,"onUpdate:modelValue":o[4]||(o[4]=l=>t(d).nbJury=l),items:[{title:"Trois",value:3},{title:"Cinq",value:5},{title:"Sept",value:7},{title:"Neuf",value:9}],"item-title":"title","item-value":"value"},null,8,["modelValue"])]),_:1})]),_:1}),e(c,null,{default:a(()=>[e(U),e(r,{type:"submit",class:"mt-2",onClick:t(R)},{default:a(()=>[n("Enregistrer")]),_:1},8,["onClick"]),e(r,{type:"submit",class:"mt-2",onClick:t(j)},{default:a(()=>[n("Annuler")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(_,{modelValue:t(v),"onUpdate:modelValue":o[13]||(o[13]=l=>T(v)?v.value=l:v=l),persistent:!0,"max-width":"500"},{default:a(()=>[e(k,null,{default:a(()=>[e(g,{class:"text-h5"},{default:a(()=>[n(" Modifier tournoi ")]),_:1}),e(J,null,{default:a(()=>[e(B,{onSubmit:o[12]||(o[12]=L(()=>{},["prevent"]))},{default:a(()=>[e(V,{label:"Nom",modelValue:t(i).nomTournoi,"onUpdate:modelValue":o[7]||(o[7]=l=>t(i).nomTournoi=l),autofocus:!0},null,8,["modelValue"]),e(V,{label:"description",modelValue:t(i).description,"onUpdate:modelValue":o[8]||(o[8]=l=>t(i).description=l),autofocus:!0},null,8,["modelValue"]),e(V,{label:"Lieu",modelValue:t(i).lieuTournoi,"onUpdate:modelValue":o[9]||(o[9]=l=>t(i).lieuTournoi=l)},null,8,["modelValue"]),e(V,{type:"date",label:"Date",modelValue:t(i).dateTournoi,"onUpdate:modelValue":o[10]||(o[10]=l=>t(i).dateTournoi=l)},null,8,["modelValue"]),e(E,{modelValue:t(i).nbJury,"onUpdate:modelValue":o[11]||(o[11]=l=>t(i).nbJury=l),items:[{title:"Trois",value:3},{title:"Cinq",value:5},{title:"Sept",value:7},{title:"Neuf",value:9}],"item-title":"title","item-value":"value"},null,8,["modelValue"])]),_:1})]),_:1}),e(c,null,{default:a(()=>[e(U),e(r,{type:"submit",class:"mt-2",onClick:t(H)},{default:a(()=>[n("Enregistrer")]),_:1},8,["onClick"]),e(r,{type:"submit",class:"mt-2",onClick:t(G)},{default:a(()=>[n("Annuler")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(_,{modelValue:t(f),"onUpdate:modelValue":o[14]||(o[14]=l=>T(f)?f.value=l:f=l),persistent:!0,"max-width":"500"},{default:a(()=>[e(k,null,{default:a(()=>[e(g,{class:"text-h5"},{default:a(()=>[n(" Supprimer ce tournoi de la liste ? ")]),_:1}),e(c,null,{default:a(()=>[e(U),e(r,{color:"primary",variant:"text",class:"mt-2",onClick:t(P)},{default:a(()=>[n("Non")]),_:1},8,["onClick"]),e(r,{color:"red",variant:"text",class:"mt-2",onClick:t(O)},{default:a(()=>[n("Oui, supprimer")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(le,{modelValue:t(s),"onUpdate:modelValue":o[16]||(o[16]=l=>T(s)?s.value=l:s=l),timeout:1e3},{actions:a(()=>[e(r,{color:"blue",variant:"text",onClick:o[15]||(o[15]=l=>T(s)?s.value=!1:s=!1)},{default:a(()=>[n(" Close ")]),_:1})]),default:a(()=>[n(w(t(S))+" ",1)]),_:1},8,["modelValue"])])}}};export{Ve as default};
