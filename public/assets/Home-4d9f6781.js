import{o as M,r as d,a as U,b as f,c as p,u as o,d as e,w as l,i as V,V as L,e as x,f as r,g as k,F as D,h as v,j as w,k as j,l as y,m as g,n as u,t as b,_ as h}from"./index-c0706ffd.js";import{a as T}from"./index-dad84dab.js";import{V as A,a as S}from"./VRow-2ada35af.js";import{V as E,a as F}from"./VTextField-7ec8710a.js";import"./_commonjsHelpers-39b5b250.js";const H={key:0},I=r("p",{align:"center",class:"text-h4-primary"},"Connexion",-1),q=r("p",{align:"center"},[r("img",{src:h,alt:"logo",width:"200",height:"200",style:{"border-radius":"50%"}})],-1),z=r("img",{src:h,alt:"logo",width:"200",height:"200",style:{"border-radius":"50%"}},null,-1),G=[z],J={key:1,align:"center"},K=r("img",{src:h,alt:"logo",width:"400",height:"400",style:{"border-radius":"50%"}},null,-1),O=[K],$={__name:"Home",setup(P){T.defaults.baseURL="http://localhost:5000/api.tournoi/",M(()=>{T.get("/all").then(c=>{console.log(c.data),m.value=c.data[c.data.length-1]})});let m=d({_id:0}),n=d(""),i=d(""),_=d(localStorage),s=d(!1),N=()=>{console.log(n.value),n.value=="admin"&&i.value=="admin"&&(localStorage.setItem("connected",!0),_.value=localStorage,location.reload())},C=()=>{s.value=!0},R=()=>s.value=!1;return(c,t)=>{const B=U("RouterLink");return f(),p(D,null,[o(_).connected==null?(f(),p("div",H,[e(L,{"max-width":"800",class:"mx-auto mt-9",modelValue:o(s),"onUpdate:modelValue":t[3]||(t[3]=a=>V(s)?s.value=a:s=a)},{default:l(()=>[e(x,null,{default:l(()=>[e(v,null,{default:l(()=>[I]),_:1}),e(w,null,{default:l(()=>[e(A,{class:"ml-2"},{default:l(()=>[e(S,null,{default:l(()=>[e(E,{onSubmit:t[2]||(t[2]=j(()=>{},["prevent"]))},{default:l(()=>[e(F,{label:"Nom d'utilisateur",modelValue:o(n),"onUpdate:modelValue":t[0]||(t[0]=a=>V(n)?n.value=a:n=a)},null,8,["modelValue"]),e(F,{type:"password",label:"Mot de passe",modelValue:o(i),"onUpdate:modelValue":t[1]||(t[1]=a=>V(i)?i.value=a:i=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(S,null,{default:l(()=>[q]),_:1})]),_:1})]),_:1}),e(y,null,{default:l(()=>[e(g,{color:"primary",onClick:o(N)},{default:l(()=>[u("Se connecter")]),_:1},8,["onClick"]),e(g,{color:"red",onClick:o(R)},{default:l(()=>[u("annuler")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(x,null,{default:l(()=>[e(v,null,{default:l(()=>[u(" Tournoi en cours: "+b(o(m).nomTournoi),1)]),_:1}),e(w,null,{default:l(()=>[u(b(o(m).description),1)]),_:1}),e(y,null,{default:l(()=>[e(g,null,{default:l(()=>[e(B,{to:{name:"classement",params:{idTournoi:o(m)._id}},style:{color:"inherit","text-decoration":"inherit"}},{default:l(()=>[u(" Voir le classement ")]),_:1},8,["to"])]),_:1})]),_:1})]),_:1}),r("p",{align:"center",class:"mt-8",onClick:t[4]||(t[4]=(...a)=>o(C)&&o(C)(...a))},G)])):k("",!0),o(_).connected!=null?(f(),p("p",J,O)):k("",!0)],64)}}};export{$ as default};
